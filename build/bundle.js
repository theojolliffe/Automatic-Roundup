var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function s(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function f(){return p(" ")}function d(){return p("")}function m(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t){e.value=null==t?"":t}function v(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function x(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}let y;function $(e){y=e}const _=[],j=[],k=[],A=[],w=Promise.resolve();let E=!1;function P(e){k.push(e)}const O=new Set;let C=0;function N(){const e=y;do{for(;C<_.length;){const e=_[C];C++,$(e),I(e.$$)}for($(null),_.length=0,C=0;j.length;)j.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];O.has(t)||(O.add(t),t())}k.length=0}while(_.length);for(;A.length;)A.pop()();E=!1,O.clear(),$(e)}function I(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}const S=new Set;function q(e,t){-1===e.$$.dirty[0]&&(_.push(e),E||(E=!0,w.then(N)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(i,l,u,c,s,p,f,d=[-1]){const m=y;$(i);const h=i.$$={fragment:null,ctx:null,props:p,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(m?m.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:l.target||m.$$.root};f&&f(h.root);let g=!1;if(h.ctx=u?u(i,l.props||{},((e,t,...n)=>{const r=n.length?n[0]:t;return h.ctx&&s(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),g&&q(i,e)),t})):[],h.update(),g=!0,r(h.before_update),h.fragment=!!c&&c(h.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);h.fragment&&h.fragment.l(e),e.forEach(a)}else h.fragment&&h.fragment.c();l.intro&&((b=i.$$.fragment)&&b.i&&(S.delete(b),b.i(v))),function(e,n,i,l){const{fragment:u,on_mount:a,on_destroy:c,after_update:s}=e.$$;u&&u.m(n,i),l||P((()=>{const n=a.map(t).filter(o);c?c.push(...n):r(n),e.$$.on_mount=[]})),s.forEach(P)}(i,l.target,l.anchor,l.customElement),N()}var b,v;$(m)}function M(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function T(e,t,n){const r=e.slice();return r[0]=t[n],r}function G(t){let n,r,o,i,c=t[0].text+", loss: "+t[0].loss+", rouge-2: "+t[0].r2;return{c(){n=s("option"),r=p(c),o=f(),n.__value=i=t[0],n.value=n.__value},m(e,t){u(e,n,t),l(n,r),l(n,o)},p:e,d(e){e&&a(n)}}}function L(e){let t,n=e[2],r=[];for(let t=0;t<n.length;t+=1)r[t]=J(M(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=d()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);u(e,t,n)},p(e,o){if(4&o){let i;for(n=e[2],i=0;i<n.length;i+=1){const l=M(e,n,i);r[i]?r[i].p(l,o):(r[i]=J(l),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){c(r,e),e&&a(t)}}}function X(t){let n;return{c(){n=s("p"),n.textContent="API is starting up, please try again in a minute..."},m(e,t){u(e,n,t)},p:e,d(e){e&&a(n)}}}function z(e){let t,n,r=e[9]+"";return{c(){t=s("p"),n=p(r)},m(e,r){u(e,t,r),l(t,n)},p(e,t){4&t&&r!==(r=e[9]+"")&&g(n,r)},d(e){e&&a(t)}}}function H(e){let t,n,r=e[9]+"";return{c(){t=s("h2"),n=p(r)},m(e,r){u(e,t,r),l(t,n)},p(e,t){4&t&&r!==(r=e[9]+"")&&g(n,r)},d(e){e&&a(t)}}}function J(e){let t;function n(e,t){return 0==e[11]&e[9].length<100?H:z}let r=n(e),o=r(e);return{c(){o.c(),t=d()},m(e,n){o.m(e,n),u(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&a(t)}}}function K(t){let n,o,i,d,y,$,_,j,k,A,w,E,O,C,N,I,S,q,B,M,z,H,J,K,Q,R,V,Z,D=t[5],F=[];for(let e=0;e<D.length;e+=1)F[e]=G(T(t,D,e));function U(e,t){return"API is starting up, please try again in a minute."==e[2]?X:L}let W=U(t),Y=W(t);return{c(){n=s("div"),o=f(),i=s("div"),d=s("h1"),d.textContent="Automatic Roundup",y=f(),$=s("textarea"),_=f(),j=s("br"),k=f(),A=s("span"),A.textContent="Model:",w=f(),E=s("form"),O=s("select");for(let e=0;e<F.length;e+=1)F[e].c();C=f(),N=s("br"),I=f(),S=s("br"),q=f(),B=s("button"),B.textContent="Summarise",M=f(),z=s("p"),H=p(t[3]),J=f(),K=s("p"),Y.c(),Q=f(),R=s("div"),v(n,"height","50px"),h($,"placeholder","Copy and paste text from a statistical bulletin"),h($,"class","svelte-1snmeyk"),v(A,"float","left"),v(A,"margin","8px"),void 0===t[0]&&P((()=>t[7].call(O))),v(i,"width","680px"),v(i,"margin","auto"),v(R,"height","50px")},m(e,r){u(e,n,r),u(e,o,r),u(e,i,r),l(i,d),l(i,y),l(i,$),b($,t[1]),l(i,_),l(i,j),l(i,k),l(i,A),l(i,w),l(i,E),l(E,O);for(let e=0;e<F.length;e+=1)F[e].m(O,null);x(O,t[0]),l(i,C),l(i,N),l(i,I),l(i,S),l(i,q),l(i,B),l(i,M),l(i,z),l(z,H),l(i,J),l(i,K),Y.m(K,null),u(e,Q,r),u(e,R,r),V||(Z=[m($,"input",t[6]),m(O,"change",t[7]),m(B,"click",t[4])],V=!0)},p(e,[t]){if(2&t&&b($,e[1]),32&t){let n;for(D=e[5],n=0;n<D.length;n+=1){const r=T(e,D,n);F[n]?F[n].p(r,t):(F[n]=G(r),F[n].c(),F[n].m(O,null))}for(;n<F.length;n+=1)F[n].d(1);F.length=D.length}33&t&&x(O,e[0]),8&t&&g(H,e[3]),W===(W=U(e))&&Y?Y.p(e,t):(Y.d(1),Y=W(e),Y&&(Y.c(),Y.m(K,null)))},i:e,o:e,d(e){e&&a(n),e&&a(o),e&&a(i),c(F,e),Y.d(),e&&a(Q),e&&a(R),V=!1,r(Z)}}}function Q(e,t,n){let r="",o="",i="";let l,u=[{r2:35.6,loss:.83,text:"theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-earlystopping",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-earlystopping"},{r2:32.4,loss:.9,text:"theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e1",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e1"},{r2:36.6,loss:.86,text:"theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e2",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e2"},{r2:34.5,loss:.81,text:"theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e4",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e4"},{r2:38.7,loss:.8,text:"theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e8",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e8"},{r2:33.9,loss:.79,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e4",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e4"},{r2:38.1,loss:.78,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e8",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e8"},{r2:41.2,loss:.84,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e10",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e10"},{r2:34.5,loss:.8,text:"bart-cnn-pubmed-arxiv-pubmed-arxiv-earlystopping",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-earlystopping"},{r2:46,loss:1.08,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e43",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e43"},{r2:49.8,loss:1.1,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e60",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e60"},{r2:48.9,loss:1.18,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e100",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e100"},{r2:35,loss:.86,text:"distilbart-cnn-arxiv-pubmed-pubmed-earlystopping",url:"https://api-inference.huggingface.co/models/theojolliffe/distilbart-cnn-arxiv-pubmed-pubmed-earlystopping"},{r2:34.6,loss:.83,text:"distilbart-cnn-arxiv-pubmed-v3-e8",url:"https://api-inference.huggingface.co/models/theojolliffe/distilbart-cnn-arxiv-pubmed-v3-e8"},{r2:41,loss:.82,text:"distilbart-cnn-arxiv-pubmed-v3-e12",url:"https://api-inference.huggingface.co/models/theojolliffe/distilbart-cnn-arxiv-pubmed-v3-e12"}];return e.$$.update=()=>{1&e.$$.dirty&&console.log("selectedmodel",l)},[l,r,o,i,function(){n(3,i="Generating output..."),n(2,o=""),console.log("Gen 2",r),async function(e){const t=await fetch(l.url,{headers:{Authorization:"Bearer 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"},method:"POST",body:JSON.stringify(e)});return await t.json()}({inputs:r,parameters:{max_length:1200}}).then((e=>{n(3,i=""),Object.keys(e).includes("error")?(console.log("There's been an error"),n(2,o="API is starting up, please try again in a minute.")):(console.log("response",Object.values(e[0])[0]),n(2,o=Object.values(e[0])[0].replaceAll("<n>","\n").split("\n")))}))},u,function(){r=this.value,n(1,r)},function(){l=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,l),n(5,u)}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),B(this,e,Q,K,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
