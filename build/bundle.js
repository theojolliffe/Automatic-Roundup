var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode.removeChild(e)}function a(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function s(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function p(){return f(" ")}function d(){return f("")}function m(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function b(e,t){e.value=null==t?"":t}function v(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function x(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}let $;function y(e){$=e}const _=[],j=[],k=[],A=[],w=Promise.resolve();let E=!1;function P(e){k.push(e)}const O=new Set;let C=0;function N(){const e=$;do{for(;C<_.length;){const e=_[C];C++,y(e),I(e.$$)}for(y(null),_.length=0,C=0;j.length;)j.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];O.has(t)||(O.add(t),t())}k.length=0}while(_.length);for(;A.length;)A.pop()();E=!1,O.clear(),y(e)}function I(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}const S=new Set;function q(e,t){-1===e.$$.dirty[0]&&(_.push(e),E||(E=!0,w.then(N)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(i,u,c,a,s,f,p,d=[-1]){const m=$;y(i);const h=i.$$={fragment:null,ctx:null,props:f,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u.context||(m?m.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:u.target||m.$$.root};p&&p(h.root);let g=!1;if(h.ctx=c?c(i,u.props||{},((e,t,...n)=>{const r=n.length?n[0]:t;return h.ctx&&s(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),g&&q(i,e)),t})):[],h.update(),g=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),u.target){if(u.hydrate){const e=function(e){return Array.from(e.childNodes)}(u.target);h.fragment&&h.fragment.l(e),e.forEach(l)}else h.fragment&&h.fragment.c();u.intro&&((b=i.$$.fragment)&&b.i&&(S.delete(b),b.i(v))),function(e,n,i,u){const{fragment:c,on_mount:l,on_destroy:a,after_update:s}=e.$$;c&&c.m(n,i),u||P((()=>{const n=l.map(t).filter(o);a?a.push(...n):r(n),e.$$.on_mount=[]})),s.forEach(P)}(i,u.target,u.anchor,u.customElement),N()}var b,v;y(m)}function M(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function T(e,t,n){const r=e.slice();return r[0]=t[n],r}function G(t){let n,r,o,i,a=t[0].text+", rouge-2: "+t[0].r2;return{c(){n=s("option"),r=f(a),o=p(),n.__value=i=t[0],n.value=n.__value},m(e,t){c(e,n,t),u(n,r),u(n,o)},p:e,d(e){e&&l(n)}}}function L(e){let t,n=e[2],r=[];for(let t=0;t<n.length;t+=1)r[t]=J(M(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=d()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);c(e,t,n)},p(e,o){if(4&o){let i;for(n=e[2],i=0;i<n.length;i+=1){const u=M(e,n,i);r[i]?r[i].p(u,o):(r[i]=J(u),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){a(r,e),e&&l(t)}}}function X(t){let n;return{c(){n=s("p"),n.textContent="API is starting up, please try again in a minute..."},m(e,t){c(e,n,t)},p:e,d(e){e&&l(n)}}}function z(e){let t,n,r=e[9]+"";return{c(){t=s("p"),n=f(r)},m(e,r){c(e,t,r),u(t,n)},p(e,t){4&t&&r!==(r=e[9]+"")&&g(n,r)},d(e){e&&l(t)}}}function H(e){let t,n,r=e[9]+"";return{c(){t=s("h2"),n=f(r)},m(e,r){c(e,t,r),u(t,n)},p(e,t){4&t&&r!==(r=e[9]+"")&&g(n,r)},d(e){e&&l(t)}}}function J(e){let t;function n(e,t){return 0==e[11]&e[9].length<100?H:z}let r=n(e),o=r(e);return{c(){o.c(),t=d()},m(e,n){o.m(e,n),c(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&l(t)}}}function K(t){let n,o,i,d,$,y,_,j,k,A,w,E,O,C,N,I,S,q,B,M,z,H,J,K,Q,R,V,Z,D=t[5],F=[];for(let e=0;e<D.length;e+=1)F[e]=G(T(t,D,e));function U(e,t){return"API is starting up, please try again in a minute."==e[2]?X:L}let W=U(t),Y=W(t);return{c(){n=s("div"),o=p(),i=s("div"),d=s("h1"),d.textContent="Automatic Roundup",$=p(),y=s("textarea"),_=p(),j=s("br"),k=p(),A=s("span"),A.textContent="Model:",w=p(),E=s("form"),O=s("select");for(let e=0;e<F.length;e+=1)F[e].c();C=p(),N=s("br"),I=p(),S=s("br"),q=p(),B=s("button"),B.textContent="Summarise",M=p(),z=s("p"),H=f(t[3]),J=p(),K=s("p"),Y.c(),Q=p(),R=s("div"),v(n,"height","50px"),h(y,"placeholder","Copy and paste text from a statistical bulletin"),h(y,"class","svelte-1snmeyk"),v(A,"float","left"),v(A,"margin","8px"),void 0===t[0]&&P((()=>t[7].call(O))),v(i,"width","680px"),v(i,"margin","auto"),v(R,"height","50px")},m(e,r){c(e,n,r),c(e,o,r),c(e,i,r),u(i,d),u(i,$),u(i,y),b(y,t[1]),u(i,_),u(i,j),u(i,k),u(i,A),u(i,w),u(i,E),u(E,O);for(let e=0;e<F.length;e+=1)F[e].m(O,null);x(O,t[0]),u(i,C),u(i,N),u(i,I),u(i,S),u(i,q),u(i,B),u(i,M),u(i,z),u(z,H),u(i,J),u(i,K),Y.m(K,null),c(e,Q,r),c(e,R,r),V||(Z=[m(y,"input",t[6]),m(O,"change",t[7]),m(B,"click",t[4])],V=!0)},p(e,[t]){if(2&t&&b(y,e[1]),32&t){let n;for(D=e[5],n=0;n<D.length;n+=1){const r=T(e,D,n);F[n]?F[n].p(r,t):(F[n]=G(r),F[n].c(),F[n].m(O,null))}for(;n<F.length;n+=1)F[n].d(1);F.length=D.length}33&t&&x(O,e[0]),8&t&&g(H,e[3]),W===(W=U(e))&&Y?Y.p(e,t):(Y.d(1),Y=W(e),Y&&(Y.c(),Y.m(K,null)))},i:e,o:e,d(e){e&&l(n),e&&l(o),e&&l(i),a(F,e),Y.d(),e&&l(Q),e&&l(R),V=!1,r(Z)}}}function Q(e,t,n){let r="",o="",i="";let u,c=[{r2:33.4,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e2",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e2"},{r2:33.9,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e4",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e4"},{r2:38.1,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e8",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e8"},{r2:43.3,loss:.87,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e12",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e12"},{r2:41.4,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e16",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e16"},{r2:47.1,text:"bart-cnn-pubmed-arxiv-pubmed-v3-e32",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-v3-e32"},{r2:44.8,text:"bart-cnn-pubmed-arxiv-v3-e16",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-v3-e16"},{r2:34.9,loss:.89,text:"distilbart-cnn-arxiv-pubmed-v3-e4",url:"https://api-inference.huggingface.co/models/theojolliffe/distilbart-cnn-arxiv-pubmed-v3-e4"},{r2:45.7,loss:.96,text:"distilbart-cnn-arxiv-pubmed-v3-e32",url:"https://api-inference.huggingface.co/models/theojolliffe/distilbart-cnn-arxiv-pubmed-v3-e32"},{r2:36.6,text:"distill-pegasus-cnn-arxiv-pubmed-v3-e16",url:"https://api-inference.huggingface.co/models/theojolliffe/distill-pegasus-cnn-arxiv-pubmed-v3-e16"}];return e.$$.update=()=>{1&e.$$.dirty&&console.log("selectedmodel",u)},[u,r,o,i,function(){n(3,i="Generating output..."),n(2,o=""),console.log("Gen 2",r),async function(e){const t=await fetch(u.url,{headers:{Authorization:"Bearer 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"},method:"POST",body:JSON.stringify(e)});return await t.json()}({inputs:r,parameters:{max_length:1200}}).then((e=>{n(3,i=""),Object.keys(e).includes("error")?(console.log("There's been an error"),n(2,o="API is starting up, please try again in a minute.")):(console.log("response",Object.values(e[0])[0]),n(2,o=Object.values(e[0])[0].replaceAll("<n>","\n").split("\n")))}))},c,function(){r=this.value,n(1,r)},function(){u=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,u),n(5,c)}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),B(this,e,Q,K,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
