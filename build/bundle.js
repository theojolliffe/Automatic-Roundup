var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function a(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function s(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function p(){return f(" ")}function d(){return f("")}function h(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function g(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function m(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function v(e,t){e.value=null==t?"":t}function b(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function x(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}let $;function y(e){$=e}const j=[],_=[],k=[],A=[],w=Promise.resolve();let E=!1;function P(e){k.push(e)}const O=new Set;let C=0;function N(){const e=$;do{for(;C<j.length;){const e=j[C];C++,y(e),I(e.$$)}for(y(null),j.length=0,C=0;_.length;)_.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];O.has(t)||(O.add(t),t())}k.length=0}while(j.length);for(;A.length;)A.pop()();E=!1,O.clear(),y(e)}function I(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}const S=new Set;function q(e,t){-1===e.$$.dirty[0]&&(j.push(e),E||(E=!0,w.then(N)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function B(c,i,l,a,s,f,p,d=[-1]){const h=$;y(c);const g=c.$$={fragment:null,ctx:null,props:f,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(h?h.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:i.target||h.$$.root};p&&p(g.root);let m=!1;if(g.ctx=l?l(c,i.props||{},((e,t,...n)=>{const o=n.length?n[0]:t;return g.ctx&&s(g.ctx[e],g.ctx[e]=o)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](o),m&&q(c,e)),t})):[],g.update(),m=!0,o(g.before_update),g.fragment=!!a&&a(g.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);g.fragment&&g.fragment.l(e),e.forEach(u)}else g.fragment&&g.fragment.c();i.intro&&((v=c.$$.fragment)&&v.i&&(S.delete(v),v.i(b))),function(e,n,c,i){const{fragment:l,on_mount:u,on_destroy:a,after_update:s}=e.$$;l&&l.m(n,c),i||P((()=>{const n=u.map(t).filter(r);a?a.push(...n):o(n),e.$$.on_mount=[]})),s.forEach(P)}(c,i.target,i.anchor,i.customElement),N()}var v,b;y(h)}function M(e,t,n){const o=e.slice();return o[9]=t[n],o[11]=n,o}function T(e,t,n){const o=e.slice();return o[0]=t[n],o}function G(t){let n,o,r,c,a=t[0].text+", loss: "+t[0].loss+", rouge-2: "+t[0].r2;return{c(){n=s("option"),o=f(a),r=p(),n.__value=c=t[0],n.value=n.__value},m(e,t){l(e,n,t),i(n,o),i(n,r)},p:e,d(e){e&&u(n)}}}function L(e){let t,n=e[2],o=[];for(let t=0;t<n.length;t+=1)o[t]=J(M(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=d()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);l(e,t,n)},p(e,r){if(4&r){let c;for(n=e[2],c=0;c<n.length;c+=1){const i=M(e,n,c);o[c]?o[c].p(i,r):(o[c]=J(i),o[c].c(),o[c].m(t.parentNode,t))}for(;c<o.length;c+=1)o[c].d(1);o.length=n.length}},d(e){a(o,e),e&&u(t)}}}function X(t){let n;return{c(){n=s("p"),n.textContent="API is starting up, please try again in a minute..."},m(e,t){l(e,n,t)},p:e,d(e){e&&u(n)}}}function z(e){let t,n,o=e[9]+"";return{c(){t=s("p"),n=f(o)},m(e,o){l(e,t,o),i(t,n)},p(e,t){4&t&&o!==(o=e[9]+"")&&m(n,o)},d(e){e&&u(t)}}}function H(e){let t,n,o=e[9]+"";return{c(){t=s("h2"),n=f(o)},m(e,o){l(e,t,o),i(t,n)},p(e,t){4&t&&o!==(o=e[9]+"")&&m(n,o)},d(e){e&&u(t)}}}function J(e){let t;function n(e,t){return 0==e[11]&e[9].length<100?H:z}let o=n(e),r=o(e);return{c(){r.c(),t=d()},m(e,n){r.m(e,n),l(e,t,n)},p(e,c){o===(o=n(e))&&r?r.p(e,c):(r.d(1),r=o(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&u(t)}}}function K(t){let n,r,c,d,$,y,j,_,k,A,w,E,O,C,N,I,S,q,B,M,z,H,J,K,Q,R,V,Z,D=t[5],F=[];for(let e=0;e<D.length;e+=1)F[e]=G(T(t,D,e));function U(e,t){return"API is starting up, please try again in a minute."==e[2]?X:L}let W=U(t),Y=W(t);return{c(){n=s("div"),r=p(),c=s("div"),d=s("h1"),d.textContent="Automatic Roundup",$=p(),y=s("textarea"),j=p(),_=s("br"),k=p(),A=s("span"),A.textContent="Model:",w=p(),E=s("form"),O=s("select");for(let e=0;e<F.length;e+=1)F[e].c();C=p(),N=s("br"),I=p(),S=s("br"),q=p(),B=s("button"),B.textContent="Summarise",M=p(),z=s("p"),H=f(t[3]),J=p(),K=s("p"),Y.c(),Q=p(),R=s("div"),b(n,"height","50px"),g(y,"placeholder","Copy and paste text from a statistical bulletin"),g(y,"class","svelte-1snmeyk"),b(A,"float","left"),b(A,"margin","8px"),void 0===t[0]&&P((()=>t[7].call(O))),b(c,"width","680px"),b(c,"margin","auto"),b(R,"height","50px")},m(e,o){l(e,n,o),l(e,r,o),l(e,c,o),i(c,d),i(c,$),i(c,y),v(y,t[1]),i(c,j),i(c,_),i(c,k),i(c,A),i(c,w),i(c,E),i(E,O);for(let e=0;e<F.length;e+=1)F[e].m(O,null);x(O,t[0]),i(c,C),i(c,N),i(c,I),i(c,S),i(c,q),i(c,B),i(c,M),i(c,z),i(z,H),i(c,J),i(c,K),Y.m(K,null),l(e,Q,o),l(e,R,o),V||(Z=[h(y,"input",t[6]),h(O,"change",t[7]),h(B,"click",t[4])],V=!0)},p(e,[t]){if(2&t&&v(y,e[1]),32&t){let n;for(D=e[5],n=0;n<D.length;n+=1){const o=T(e,D,n);F[n]?F[n].p(o,t):(F[n]=G(o),F[n].c(),F[n].m(O,null))}for(;n<F.length;n+=1)F[n].d(1);F.length=D.length}33&t&&x(O,e[0]),8&t&&m(H,e[3]),W===(W=U(e))&&Y?Y.p(e,t):(Y.d(1),Y=W(e),Y&&(Y.c(),Y.m(K,null)))},i:e,o:e,d(e){e&&u(n),e&&u(r),e&&u(c),a(F,e),Y.d(),e&&u(Q),e&&u(R),V=!1,o(Z)}}}function Q(e,t,n){let o="",r="",c="";let i,l=[{r2:32.4,loss:.9,text:"theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e1",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e1"},{r2:36.6,loss:.86,text:"theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e2",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e2"},{r2:34.6,loss:.83,text:"theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e3",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e3"},{r2:34.5,loss:.81,text:"theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e4",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-pubmed-arxiv-pubmed-arxiv-arxiv-v3-e4"},{r2:16.1,loss:2.06,text:"theojolliffe/bart-cnn-science",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-science"},{r2:31.8,loss:1.06,text:"theojolliffe/bart-cnn-science-v3-e1",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-science-v3-e1"},{r2:32.6,loss:.93,text:"theojolliffe/bart-cnn-science-v3-e2",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-science-v3-e2"},{r2:34,loss:.86,text:"theojolliffe/bart-cnn-science-v3-e3",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-science-v3-e3"},{r2:33.5,loss:.83,text:"theojolliffe/bart-cnn-science-v3-e4",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-science-v3-e4"},{r2:35.5,loss:.81,text:"theojolliffe/bart-cnn-science-v3-e5",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-science-v3-e5"},{r2:35,loss:.81,text:"theojolliffe/bart-cnn-science-v3-e6",url:"https://api-inference.huggingface.co/models/theojolliffe/bart-cnn-science-v3-e6"}];return e.$$.update=()=>{1&e.$$.dirty&&console.log("selectedmodel",i)},[i,o,r,c,function(){n(3,c="Generating output..."),n(2,r=""),console.log("Gen 2",o),async function(e){const t=await fetch(i.url,{headers:{Authorization:"Bearer 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"},method:"POST",body:JSON.stringify(e)});return await t.json()}({inputs:o,parameters:{max_length:1200}}).then((e=>{n(3,c=""),Object.keys(e).includes("error")?(console.log("There's been an error"),n(2,r="API is starting up, please try again in a minute.")):(console.log("response",Object.values(e[0])[0]),n(2,r=Object.values(e[0])[0].replaceAll("<n>","\n").split("\n")))}))},l,function(){o=this.value,n(1,o)},function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,i),n(5,l)}]}return new class extends class{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){super(),B(this,e,Q,K,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
